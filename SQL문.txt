<< 1. 2차 프로젝트 계정 생성 및 권한 부여 >>
  - create user c##project2 identified by project2;
  - grant connect, resource, dba to c##project2;
  ==>사용자명: c##project2 / 비밀번호: project2


<< 2. 테이블 생성 >>
  * 시퀀스 생성 ==> Category, Ticket, Seat 테이블
  * 메소드로 번호 부여 ==> Book, Draw, Review 테이블

  ① Category 테이블
create table category(
	cateid number primary key,
	catename varchar2(20) not null
);

create sequence seq_category;


  ② Customer 테이블
create table customer(
	custid varchar2(20) primary key,
	pwd varchar2(20) not null,
	name varchar2(20) not null,
	birth varchar2(20) not null,
	email varchar2(30) not null,
	phone varchar2(20) not null unique,
	gender varchar2(20) not null,
	cateid number references category(cateid)
);


  ③ Place 테이블
create table place(
	placeid varchar2(10) primary key,
	seatnum number not null
);


  ④ Ticket 테이블
create table ticket(
	ticketid number primary key,
	cateid number references category(cateid),
	placeid varchar2(10) references place(placeid),
	ticket_name varchar2(50) not null,
	price number not null,
	ticket_date varchar2(20) not null,
	min_age number not null,
	runtime number not null,
	cast varchar2(200),
	content varchar2(1000) not null,
	img_fname varchar2(100) not null,
	vid_url varchar2(300) null,
	loc varchar2(100) not null,
	lat number not null,
	lng number not null	
);

create sequence seq_ticket;


  ⑤ Seat 테이블
create table seat(
	seatid number primary key,
	placeid varchar2(10) references place(placeid),
	ticketid number references ticket(ticketid),
	seatname varchar2(10) not null,
	check_seat varchar2(10) default 'n'
);

create sequence seq_seat;


  ⑥ Book 테이블
create table book(
	bookid number primary key,
	custid varchar2(20) references customer(custid),
	ticketid number references ticket(ticketid),
	seatid number references seat(seatid)
);


  ⑦ Draw 테이블
create table draw(
	drawid number primary key,
	custid varchar2(20) references customer(custid),
	ticketid number references ticket(ticketid),
	seatid number references seat(seatid)
);


  ⑧ Review 테이블
create table review(
	reviewid number primary key,
	custid varchar2(20) references customer(custid),
	ticketid number references ticket(ticketid),
	score number not null,
	review_content varchar2(500) not null
);


<< 3. ed format 지정 >>
column cateid format 99;
column catename format a10;

column custid format a15;
column pwd format a15;
column name format a10;
column birth format a15;
column email format a20;
column phone format a15;
column gender format a10;

column placeid format a10;
column seatnum format 999;

column ticketid format 999;
column ticket_name format a20;
column price format 999,999;
column ticket_date format a15;
column min_age format 999;
column runtime format 999;
column cast format a20;
column content format a30;
column img_fname format a15;
column vid_url format a15;
column loc format a15;

column seatid format 999;
column seatname format a10;
column check_seat format a5;

column bookid format 999;

column drawid format 999;

column reviewid format 999;
column review_content format a30;


<< 4. 테이블 인스턴스 >>
  ① Category 테이블
insert into category(cateid,catename) values(seq_category.nextval,'시사회');
insert into category(cateid,catename) values(seq_category.nextval,'뮤지컬');
insert into category(cateid,catename) values(seq_category.nextval,'연극');
insert into category(cateid,catename) values(seq_category.nextval,'콘서트');


  ② Customer 테이블


  ③ Place 테이블


  ④ Ticket 테이블
  	-1) 시사회
insert into ticket values(
	1,1,'b',
	'에브리씽 에브리웨어 올 앳 원스',0,'2022/11/25',
	15,139,'다니엘 콴(감독), 양자경, 스테파니 수, 키 호이 콴',
	'미국에 이민와 힘겹게 세탁소를 운영하던 에블린은 세무당국의 조사에 시달리던 어느 날 남편의 이혼 요구와 삐딱하게 구는 딸로 인해 대혼란에 빠진다. 그 순간 에블린은 멀티버스 안에서 수천, 수만의 자신이 세상을 살아가고 있다는 사실을 알게 되고, 그 모든 능력을 빌려와 위기의 세상과 가족을 구해야하는 운명에 처한다.',
	'movie_EveryEveryAll.jpg','https://www.youtube.com/embed/vOXJySPfMJY',
	'CGV 명동',37.563450,126.983350
);

insert into ticket values(
	2,1,'c',
	'그래비티',0,'2022/11/24',
	12,90,'알폰소 쿠아론(감독), 산드라 블록, 조지 클루니',
	'허블 우주망원경을 수리하기 위해 우주를 탐사하던 라이언 스톤 박사는 폭파된 인공위성의 잔해와 부딪히면서 소리도 산소도 없는 우주 한 가운데에 홀로 남겨지는데…',
	'movie_gravity.jpg','https://www.youtube.com/embed/I9mbNcmGNQI',
	'CGV 용산',37.529798,126.964000
);

insert into ticket values(
	3,1,'a',
	'헤어질 결심',0,'2022/11/26',
	15,138,'박찬욱(감독), 탕웨이, 박해일, 이정현',
	'진심을 숨기는 용의자, 용의자에게 의심과 관심을 동시에 느끼는 형사. 그들의 <헤어질 결심>',
	'movie_DecisionToLeave.jpg','https://www.youtube.com/embed/i50tT8n9fp8',
	'CGV 강변',37.535774,127.095713
);

insert into ticket values(
	4,1,'b',
	'사랑할 땐 누구나 최악이 된다',0,'2022/10/23',
	15,128,'요아킴 트리에(감독), 레나테 레인스베, 앤더스 다니엘슨 리',
	'의학을 공부하던 스물아홉 율리에는 자신이 진짜 원하는 걸 찾아 세상으로 나온다. 파티에서 만난 만화가 악셀과 사랑에 빠진 율리에, 하지만 삶의 다른 단계에서 만난 두 사람은 각자 다른 걸 원했고 조금씩 어긋난다.',
	'movie_TheWorstPerson.jpg','https://www.youtube.com/embed/yxkM2E0s7Ec',
	'메가박스 성수',37.541886,127.045314
);

insert into ticket values(
	5,1,'c',
	'썸머 필름을 타고!',0,'2022/08/13',
	0,98,'마츠모토 소우시(감독), 이토 마리카, 카와이 유미, 이노리 키라라',
	'"이번 여름엔 너희들의 청춘을 내가 좀 쓸게." 영화도, 꿈도, 사랑도 Ready Action! 올 여름 최고의 청춘+로맨스x시대극÷SF 걸작이 온다!',
	'movie_SummerFilm.jpg','https://www.youtube.com/embed/Hm414NvS4iQ',
	'메가박스 코엑스',37.513073,127.058217
);

insert into ticket values(
	6,1,'b',
	'애프터 양',0,'2022/11/25',
	0,96,'코고나다(감독), 콜린 파렐, 조디 터너 스미스',
	'함께 살던 안드로이드 인간 '양'이 어느 날 작동을 멈추자 제이크 가족은 그를 수리할 방법을 찾는다. 그러던 중, '양'에게서 특별한 메모리 뱅크를 발견하고 그의 기억을 탐험하기 시작하는데…',
	'movie_AfterYang.jpg','https://www.youtube.com/embed/5OK4gAiTxnU',
	'메가박스 백석',37.643862,126.789939
);

insert into ticket values(
	7,1,'c',
	'벌새',0,'2022/12/12',
	15,138,'김보라(감독), 박지후, 김새벽',
	'1994년, 알 수 없는 거대한 세계와 마주한 14살 '은희'의 아주 보편적이고 가장 찬란한 기억의 이야기',
	'movie_Hummingbird.jpg','https://www.youtube.com/embed/fLbrmg8ydJc',
	'롯데시네마 노원',37.655176,127.061305
);

insert into ticket values(
	8,1,'a',
	'고양이를 부탁해',0,'2022/12/24',
	12,110,'정재은(감독), 배두나, 이요원, 옥지영',
	'자유롭게 세상을 날고 싶은 엉뚱한 몽상가 태희. 사회로 첫 발을 먼저 내딛은 현실주의자 혜주. 생계를 위해 꿈은 잠시 뒤로 미뤄둔 꿈많은 모험가 지영. 친구들의 든든한 버팀목 쌍둥이 비류와 온조. 십대에 만나 모든 게 행복했고 즐거웠던 우리. 각자 다른 네 갈래 길의 스무살을 만났다. 그렇게 서로의 길로 향하던 우리에게 갑자기 나타난 고양이 한 마리. 우리를 하나의 길로 이어줄 수 있을까? 잘 있었니? 나도 네가 너무 보고 싶었어',
	'movie_TakeCareOfMyCat.jpg','https://www.youtube.com/embed/1a6iVwbLkmw',
	'롯데시네마 신림',37.483931,126.930227
);

insert into ticket values(
	9,1,'b',
	'옥자',0,'2022/12/07',
	12,120,'봉준호(감독), 안서현, 변희봉, 틸다 스윈튼, 릴리 콜린스',
	'강원도 산골 소녀 '미자'(안서현)에게 옥자는 10년 간 함께 자란 둘도 없는 친구이자 소중한 가족이다. 자연 속에서 평화롭게 지내던 어느 날, 글로벌 기업 '미란도'가 나타나 갑자기 옥자를 뉴욕으로 끌고가고, 할아버지(변희봉)의 만류에도 미자는 무작정 옥자를 구하기 위해 위험천만한 여정에 나선다. 극비리에 옥자를 활용한 '슈퍼돼지 프로젝트'를 추진 중인 '미란도 코퍼레이션'의 CEO '루시 미란도'(틸다 스윈튼), 옥자를 이용해 제2의 전성기를 꿈꾸는 동물학자 '죠니'(제이크 질렌할), 옥자를 앞세워 또 다른 작전을 수행하려는 비밀 동물 보호 단체 ALF까지. 각자의 이권을 둘러싸고 옥자를 차지하려는 탐욕스러운 세상에 맞서, 옥자를 구출하려는 미자의 여정은 더욱 험난해져 간다.',
	'movie_Okja.jpg','https://www.youtube.com/embed/eOdMVj1mnHE',
	'롯데시네마 수유',37.635672,127.023803
);


  ⑤ Seat 테이블


  ⑥ Book 테이블


  ⑦ Draw 테이블


  ⑧ Review 테이블
  
  
  << 5.  >>
